// HighLowStockChart.java
package com.stockmarket.chart.ohlc;

import com.stockmarket.data.*;
import java.awt.event.*;
import java.util.*;
import java.awt.*;
import com.jrefinery.chart.*;
import com.jrefinery.chart.tooltips.XYToolTipGenerator;
import com.jrefinery.data.*;
import com.jrefinery.ui.*;
import com.hgutil.*;

/**
 * Main Driver utility Class for constructing and creating data for a graph 
 * @author Hans-Jurgen Greiner
 */
public class HighLowStockChart
{
  /** A frame for displaying a high/low/open/close chart. */
  private HighLowStockChartFrame highLowChartFrame;
  private boolean standAloneApp = false;
  private String fileName = null;

  
  public static boolean DEMO_MODE = ParseData.parseBool(System.getProperties().getProperty("HGDEMO"), false);

   
  /**
   * HighLowStockChart constructor comment.
   */
  public HighLowStockChart()
  {
    super();
    this.standAloneApp = false;
  }
  /**
   * HighLowStockChart constructor comment.
   */
  public HighLowStockChart(boolean standAloneApp)
  {
    super();
    this.standAloneApp = standAloneApp;
  }
  
  /** Creates a empty data container */
  private HistoricStockDataContainer createDataContainer()
  {
    HistoricStockDataContainer container = null;
    return (container);
  }
  /** 
   * Creates a Historic Data conainer from a Serialized file on Disk
   * that was a originally serialized from HistoricStockDataContainer 
   * @param fileName the Name of the File on Disk 
   * @return HistoricStockDataContainer 
   */
  private HistoricStockDataContainer createDataContainer(String fileName)
  {
    HistoricStockDataContainer container = StockMarketUtils.getHistoricDataFromDisk(fileName);

    return (container);
  }
  /**
   * Utility Method for creating a Calendar Object
   * @param title javax.swing.JLabel
   * @param field javax.swing.JLabel
   * @param panel javax.swing.JPanel
   */
  private Date createDate(int year, int month, int day)
  {
    GregorianCalendar calendar = new GregorianCalendar(year, month, day, 0, 1, 0);
    return calendar.getTime();
  }
  /**
   * Utility Method for HistoricalStockContainer while in DEMO MODE
   * @return HistoricStockDataContainer The Container object with the data
   */
  private HistoricStockDataContainer createDemoDataContainer()
  {
    HistoricStockDataContainer container = new HistoricStockDataContainer();
    String[] List = new String[505]; // 505
    List[0] = "20010703,39.7899,39.9495,39.3013,39.8298,2120200";
    List[1] = "20010702,38.8137,39.7591,38.4156,39.3212,4617800";
    List[2] = "20010629,39.5402,39.5501,38.6146,38.6146,5656800";
    List[3] = "20010628,38.0672,39.8089,38.0672,39.2814,6033100";
    List[4] = "20010627,39.2118,39.3113,37.9478,38.0672,5561200";
    List[5] = "20010626,39.0227,39.3113,37.9578,38.8137,4984700";
    List[6] = "20010625,40.5553,40.8041,39.5601,39.6895,4501100";
    List[7] = "20010622,40.5055,40.7743,39.8089,40.5553,4456500";
    List[8] = "20010621,38.8137,40.7046,38.8137,40.207,6327400";
    List[9] = "20010620,38.7639,39.4108,38.525,39.2715,5639500";
    List[10] = "20010619,38.3559,38.9032,38.2165,38.4554,6001000";
    List[11] = "20010618,38.7639,39.0525,38.0872,38.3559,6223600";
    List[12] = "20010615,39.0625,39.4904,38.3957,38.754,8537700";
    List[13] = "20010614,40.1274,40.1274,38.9629,39.58,8162200";
    List[14] = "20010613,41.65,42.4761,41.1723,41.3216,4281200";
    List[15] = "20010612,41.2121,41.9685,40.7046,41.6003,5734300";
    List[16] = "20010611,41.3017,41.7297,40.8041,41.2121,4518800";
    List[17] = "20010608,40.9633,41.0828,40.5055,40.7942,2512400";
    List[18] = "20010607,41.2022,41.4012,40.3065,40.9633,6637200";
    List[19] = "20010606,42.3467,42.3567,41.5605,41.6799,3130100";
    List[20] = "20010605,42.1974,42.8443,41.7993,42.3965,6236700";
    List[21] = "20010604,42.1875,42.6453,41.7993,42.5358,2276300";
    List[22] = "20010601,41.9188,42.2571,41.3017,42.1775,3373400";
    List[23] = "20010531,42.5457,42.6254,41.4709,41.9188,4064000";
    List[24] = "20010530,42.2472,42.9936,41.9486,42.068,4075600";
    List[25] = "20010529,43.3718,43.3718,42.1576,42.2074,6031700";
    List[26] = "20010525,44.3869,44.3869,42.9936,43.123,3626400";
    List[27] = "20010524,44.7153,44.8646,43.3917,44.3869,3663500";
    List[28] = "20010523,45.5314,45.5314,44.3172,44.4864,4469600";
    List[29] = "20010522,45.3324,46.3276,44.9243,45.83,5880300";
    List[30] = "20010521,43.3917,45.0338,43.113,44.775,4517000";
    List[31] = "20010518,44.158,44.2774,42.8145,43.4912,3954700";
    List[32] = "20010517,44.0883,44.5163,43.3419,44.1481,5094200";
    List[33] = "20010516,41.5505,44.367,41.0529,44.0883,5951600";
    List[34] = "20010515,42.2074,42.4263,41.2818,41.6401,4463400";
    List[35] = "20010514,41.7496,42.3766,41.7297,42.2074,2313700";
    List[36] = "20010511,42.2969,42.7149,41.65,42.068,3597000";
    List[37] = "20010510,42.496,42.9836,42.3467,42.6353,5190800";
    List[38] = "20010509,40.4856,41.7695,40.4657,41.4012,4811100";
    List[39] = "20010508,41.1027,42.0581,40.3065,41.1027,8745500";
    List[40] = "20010507,43.2922,43.531,42.8642,43.0235,2939000";
    List[41] = "20010504,42.7547,44.0187,41.5505,43.6405,5036600";
    List[42] = "20010503,42.3965,42.5457,41.6998,42.2571,5199300";
    List[43] = "20010502,42.5457,43.6405,42.2472,43.0334,6382700";
    List[44] = "20010501,41.9884,42.8145,41.8093,42.0481,5721500";
    List[45] = "20010430,43.7798,43.9192,42.2372,42.2372,5211400";
    List[46] = "20010427,42.3467,43.6903,42.3467,43.531,5325200";
    List[47] = "20010426,41.3017,42.5258,41.3017,41.6998,5279100";
    List[48] = "20010425,40.3065,41.2022,39.8786,40.9036,5752600";
    List[49] = "20010424,41.0529,41.2818,40.207,40.5553,5114700";
    List[50] = "20010423,41.0529,41.1524,39.7193,40.3164,5936600";
    List[51] = "20010420,42.5059,42.5059,41.2022,41.3017,5050600";
    List[52] = "20010419,42.277,43.5808,42.0083,42.7547,6223200";
    List[53] = "20010418,38.9629,44.785,38.9629,42.3766,9343400";
    List[54] = "20010417,37.9478,39.0625,37.6194,38.7938,3426400";
    List[55] = "20010416,38.3658,39.0625,37.7388,38.3459,3900400";
    List[56] = "20010412,37.7886,39.3113,37.7189,39.0028,4745000";
    List[57] = "20010411,39.1122,39.7989,37.8184,38.2663,5446800";
    List[58] = "20010410,37.7189,38.1966,37.1218,37.9876,7394200";
    List[59] = "20010409,36.8033,37.50,36.3754,36.9526,4557700";
    List[60] = "20010406,36.5744,37.7786,36.2261,36.5346,6848900";
    List[61] = "20010405,37.2711,38.1568,36.8232,38.127,7648100";
    List[62] = "20010404,37.709,38.0672,35.7882,36.027,7819000";
    List[63] = "20010403,38.7915,39.1292,37.3713,37.7289,6267900";
    List[64] = "20010402,37.6891,40.2216,37.6891,39.437,11638700";
    List[65] = "20010330,41.463,41.7908,39.1292,41.0161,13514400";
    List[66] = "20010329,38.1361,39.2881,38.1361,38.6922,5569600";
    List[67] = "20010328,39.0299,39.6059,38.1956,38.7419,6322700";
    List[68] = "20010327,37.7388,39.7251,36.9443,39.3775,9229100";
    List[69] = "20010326,37.2422,38.3943,37.0138,37.5203,9058100";
    List[70] = "20010323,34.9084,36.5967,34.7098,36.5471,10269900";
    List[71] = "20010322,34.9084,36.1299,33.7663,34.4615,20850300";
    List[72] = "20010321,36.7457,36.7457,34.2629,34.7495,14198200";
    List[73] = "20010320,39.0299,39.0597,36.7556,37.0138,8584700";
    List[74] = "20010319,38.9802,38.9802,37.8183,38.4936,6269300";
    List[75] = "20010316,39.5264,40.1024,37.8381,37.9176,10511800";
    List[76] = "20010315,39.8244,40.2216,38.8809,39.5264,10776400";
    List[77] = "20010314,38.9802,40.162,37.7388,38.2155,10323800";
    List[78] = "20010313,40.7182,41.4134,40.023,41.3439,5762900";
    List[79] = "20010312,41.761,41.7808,39.6555,40.1223,7114400";
    List[80] = "20010309,43.8763,43.8863,42.0092,42.4363,4867900";
    List[81] = "20010308,44.4921,44.8595,43.4989,44.1246,3555700";
    List[82] = "20010307,42.8037,43.8962,42.7144,43.8962,4141700";
    List[83] = "20010306,43.5188,44.0948,42.2575,42.6945,5104400";
    List[84] = "20010305,43.6976,43.8465,42.2178,42.9924,3292800";
    List[85] = "20010302,42.4562,44.1842,42.0887,43.4493,5909600";
    List[86] = "20010301,43.1811,43.4294,41.7113,42.7044,7289300";
    List[87] = "20010228,45.1873,45.3164,43.3996,43.5784,5502700";
    List[88] = "20010227,44.4424,45.5348,44.0551,45.1277,5541800";
    List[89] = "20010226,44.6311,44.9191,43.3996,44.8893,5883200";
    List[90] = "20010223,44.3928,44.8595,43.201,44.5914,4948200";
    List[91] = "20010222,43.6678,44.363,41.6021,44.1941,8750800";
    List[92] = "20010221,44.9688,45.5051,43.4393,43.6678,4790400";
    List[93] = "20010220,46.9749,47.104,44.79,45.664,4952200";
    List[94] = "20010216,46.5975,47.1536,45.9222,46.8954,4291400";
    List[95] = "20010215,46.7266,46.9352,45.9917,46.5379,3750900";
    List[96] = "20010214,46.6769,46.7961,45.8626,46.3194,3763600";
    List[97] = "20010213,47.6899,48.1666,45.9818,46.4585,4848800";
    List[98] = "20010212,46.7266,47.8687,46.7266,47.7793,3477800";
    List[99] = "20010209,47.5708,47.6601,46.6273,46.7067,3423900";
    List[100] = "20010208,46.1804,48.0177,46.1407,46.7763,5431000";
    List[101] = "20010207,47.0245,47.819,45.1873,46.0513,6762600";
    List[102] = "20010206,48.0772,48.0872,46.4783,46.667,5091000";
    List[103] = "20010205,47.9084,48.7228,47.6204,48.0772,3535300";
    List[104] = "20010202,47.1636,49.6067,47.0742,47.7793,7602100";
    List[105] = "20010201,46.7763,47.5112,46.7763,47.1636,5176100";
    List[106] = "20010131,47.4714,48.1666,45.6838,46.7763,7785000";
    List[107] = "20010130,46.6769,47.7793,46.4187,47.5807,7970200";
    List[108] = "20010129,46.9749,47.9879,46.9252,47.2827,6474700";
    List[109] = "20010126,46.0562,46.8011,45.5597,46.3045,6946500";
    List[110] = "20010125,46.8011,47.2976,45.6838,46.0562,7551700";
    List[111] = "20010124,47.1735,47.1735,45.2493,45.9321,11869300";
    List[112] = "20010123,45.9321,47.0494,45.6838,46.1804,17716100";
    List[113] = "20010122,48.5391,48.7873,43.8838,44.6907,13393800";
    List[114] = "20010119,49.2839,49.5322,46.739,48.2908,7074900";
    List[115] = "20010118,50.277,50.3391,48.7253,49.2839,4501800";
    List[116] = "20010117,49.2218,49.7184,48.6011,49.0977,6995600";
    List[117] = "20010116,47.608,48.6011,47.1114,47.9804,4958900";
    List[118] = "20010112,48.6011,48.6011,46.6149,47.608,6216000";
    List[119] = "20010111,46.2424,48.2287,45.808,47.5459,7149700";
    List[120] = "20010110,46.4287,47.6701,45.9321,46.3666,9399600";
    List[121] = "20010109,48.6632,49.1598,45.87,46.6149,8720200";
    List[122] = "20010108,51.5184,51.5184,48.2908,48.6011,7686000";
    List[123] = "20010105,52.884,52.9461,50.1529,51.2081,5562400";
    List[124] = "20010104,56.1737,56.422,53.3805,53.815,7188600";
    List[125] = "20010103,51.146,56.6703,51.0839,55.553,7846300";
    List[126] = "20010102,54.0421,54.228,51.1293,51.5631,3846300";
    List[127] = "20001229,54.0421,54.9717,53.9182,54.4759,3834200";
    List[128] = "20001228,53.7942,54.0421,53.0505,53.5463,3120600";
    List[129] = "20001227,53.7322,54.0421,52.7406,52.7406,6272500";
    List[130] = "20001226,52.9885,53.2364,52.1829,52.8026,3394200";
    List[131] = "20001222,52.5547,53.4224,52.1209,52.7406,3780200";
    List[132] = "20001221,52.5547,52.5547,51.0673,52.1209,5348100";
    List[133] = "20001220,54.4759,54.5379,50.5095,51.0053,6398400";
    List[134] = "20001219,56.6451,57.3888,53.9182,54.4759,4687100";
    List[135] = "20001218,54.9098,57.4507,54.8478,56.2732,4841800";
    List[136] = "20001215,54.7238,54.9717,53.1745,54.1661,5541000";
    List[137] = "20001214,56.0253,56.0873,54.0421,54.9717,4191800";
    List[138] = "20001213,55.9633,57.5747,55.7774,56.0253,3481500";
    List[139] = "20001212,55.7774,56.1493,54.9098,55.7154,2228900";
    List[140] = "20001211,55.2196,56.4591,54.8478,56.0253,3302800";
    List[141] = "20001208,53.5463,55.4056,53.5463,54.352,3318900";
    List[142] = "20001207,53.5463,54.352,52.8026,52.9885,2979400";
    List[143] = "20001206,53.4224,55.6535,53.0505,53.2984,4374100";
    List[144] = "20001205,53.0505,54.5379,51.9969,53.5463,6015200";
    List[145] = "20001204,53.2364,53.2984,50.9434,51.5631,6599900";
    List[146] = "20001201,55.7774,55.7774,53.5463,53.7942,4174100";
    List[147] = "20001130,56.2112,58.7522,52.9266,54.4759,8783000";
    List[148] = "20001129,54.7238,56.707,54.5379,56.4591,3777000";
    List[149] = "20001128,52.4308,55.9014,52.4308,54.6619,4366000";
    List[150] = "20001127,53.5463,53.5463,52.4308,52.5547,2884200";
    List[151] = "20001124,51.2532,51.811,50.7574,50.9434,1574900";
    List[152] = "20001122,52.4308,53.2984,50.6955,51.3772,3121300";
    List[153] = "20001121,52.0589,53.0505,49.6419,52.8026,3811400";
    List[154] = "20001120,55.5915,55.5915,52.1209,52.1829,4729900";
    List[155] = "20001117,56.707,57.2648,54.6619,55.5915,3903800";
    List[156] = "20001116,57.0169,58.2564,56.5211,57.2648,2183100";
    List[157] = "20001115,56.769,59.0001,56.0253,57.2028,3333000";
    List[158] = "20001114,55.4056,58.3804,55.4056,56.831,3021000";
    List[159] = "20001113,56.4591,57.5127,55.0957,55.4056,3096400";
    List[160] = "20001110,57.3888,58.8762,56.5831,56.5831,3067200";
    List[161] = "20001109,57.6986,58.6902,56.5831,57.7606,3487100";
    List[162] = "20001108,60.7974,60.7974,57.3888,57.5127,3474000";
    List[163] = "20001107,59.8678,60.9213,59.6818,60.4255,2043800";
    List[164] = "20001106,59.372,60.1157,58.8142,60.1157,2895500";
    List[165] = "20001103,58.0085,59.8678,57.2648,59.1241,3322400";
    List[166] = "20001102,58.0085,58.5663,57.0789,57.1409,3340200";
    List[167] = "20001101,59.372,59.6199,56.6451,57.8846,3955400";
    List[168] = "20001031,57.8846,59.6818,56.893,59.4959,4204900";
    List[169] = "20001030,55.9014,58.3804,55.8394,57.9465,3169800";
    List[170] = "20001027,55.4056,55.7774,54.352,55.3436,3010500";
    List[171] = "20001026,55.9633,56.0873,52.6167,53.9801,6013200";
    List[172] = "20001025,57.2648,58.2564,56.5211,56.893,4467400";
    List[173] = "20001024,54.352,56.893,54.228,56.6451,4463300";
    List[174] = "20001023,56.0873,56.0873,53.5463,53.9182,4405400";
    List[175] = "20001020,54.9717,56.3972,54.9717,55.5915,2574600";
    List[176] = "20001019,54.7858,56.3972,54.7238,55.5915,3747700";
    List[177] = "20001018,52.4308,55.1577,50.1997,53.7942,7080900";
    List[178] = "20001017,54.7858,55.5295,52.6787,53.2984,4831400";
    List[179] = "20001016,54.0421,56.1493,53.5463,55.2816,4724400";
    List[180] = "20001013,51.0053,53.8562,51.0053,53.4843,4479700";
    List[181] = "20001012,55.5295,56.3972,50.7574,51.4392,8340300";
    List[182] = "20001011,54.414,55.4675,53.6083,53.9182,6158800";
    List[183] = "20001010,56.4591,56.4591,54.5379,55.0337,5397700";
    List[184] = "20001009,57.5127,57.5127,55.9633,56.1493,3609400";
    List[185] = "20001006,60.0537,60.2396,57.0169,57.4507,6080700";
    List[186] = "20001005,61.1692,61.9749,60.2396,60.4875,3297800";
    List[187] = "20001004,61.0453,61.2932,60.3636,60.3636,2408500";
    List[188] = "20001003,61.8324,62.08,60.7802,60.904,3443200";
    List[189] = "20001002,60.4088,62.3894,59.2947,62.3894,3693100";
    List[190] = "20000929,60.7183,61.3372,60.0994,60.1612,2497000";
    List[191] = "20000928,58.1806,61.3991,58.1806,60.3469,2936600";
    List[192] = "20000927,58.4282,58.7377,57.8093,58.1806,2720600";
    List[193] = "20000926,59.4804,60.0994,58.2425,58.9853,2042000";
    List[194] = "20000925,58.4282,59.7899,57.8093,59.4185,2913600";
    List[195] = "20000922,57.6855,58.6758,57.3141,58.1806,2678100";
    List[196] = "20000921,56.2619,57.8712,55.3335,57.6855,3341300";
    List[197] = "20000920,57.0046,57.6236,55.8286,57.4379,3557700";
    List[198] = "20000919,57.4379,59.2947,57.4379,59.2328,3074800";
    List[199] = "20000918,58.1187,58.4282,57.4379,57.4379,2595600";
    List[200] = "20000915,59.9756,60.5945,58.1806,58.7377,4353500";
    List[201] = "20000914,60.5945,61.2753,59.9137,60.2231,2118200";
    List[202] = "20000913,61.2753,61.6467,59.728,60.7183,3162500";
    List[203] = "20000912,61.3372,61.3372,59.9756,60.7802,3053400";
    List[204] = "20000911,59.4185,61.3372,59.4185,61.2135,3330100";
    List[205] = "20000908,58.6139,60.0994,58.3663,60.0375,3082900";
    List[206] = "20000907,59.4185,59.4185,57.9331,58.7377,1613200";
    List[207] = "20000906,59.4185,61.2753,58.9234,59.4185,3662500";
    List[208] = "20000905,57.8712,59.3566,57.8093,59.1709,2375100";
    List[209] = "20000901,58.9234,59.2947,57.8093,57.8712,1854500";
    List[210] = "20000831,58.4282,59.7899,58.4282,58.4437,3466100";
    List[211] = "20000830,58.2425,59.109,58.0568,58.3663,2005500";
    List[212] = "20000829,58.552,59.109,57.7474,58.6758,3075400";
    List[213] = "20000828,56.9427,59.3566,56.4476,59.2947,4300000";
    List[214] = "20000825,56.0762,56.6333,56.0143,56.0143,2163700";
    List[215] = "20000824,57.4379,57.4379,55.2097,55.9524,3989800";
    List[216] = "20000823,57.7474,57.7474,56.4476,56.7571,3253600";
    List[217] = "20000822,58.9234,59.0472,56.8809,57.376,3618500";
    List[218] = "20000821,58.4282,59.4804,58.1806,58.552,2429700";
    List[219] = "20000818,58.4282,58.6139,57.6855,57.9331,2079600";
    List[220] = "20000817,56.8809,58.4282,56.7571,57.9331,2425700";
    List[221] = "20000816,58.1806,59.109,56.6952,56.7571,2688000";
    List[222] = "20000815,59.3566,59.3566,58.1187,58.6139,2762000";
    List[223] = "20000814,59.5423,59.8518,58.1806,59.4185,2456200";
    List[224] = "20000811,58.1806,59.8518,57.8712,59.1709,3163400";
    List[225] = "20000810,59.109,59.4185,57.9331,58.0568,2326100";
    List[226] = "20000809,57.5617,59.5423,57.5617,59.0472,3198600";
    List[227] = "20000808,58.3044,58.3044,56.9427,58.1806,2845500";
    List[228] = "20000807,58.6758,59.2328,57.6236,57.7474,3575400";
    List[229] = "20000804,58.3044,59.6042,57.6236,59.2328,3774700";
    List[230] = "20000803,55.3335,57.9949,55.3335,57.4379,3455600";
    List[231] = "20000802,56.3857,57.376,55.643,56.819,2764700";
    List[232] = "20000801,56.4476,56.9427,55.9524,56.3857,2090400";
    List[233] = "20000731,55.3335,56.819,55.2716,56.1381,3116700";
    List[234] = "20000728,58.1806,58.1806,54.5289,55.4573,3854700";
    List[235] = "20000727,55.7049,57.8712,55.5811,57.7474,3302800";
    List[236] = "20000726,54.6527,56.3238,54.5908,55.0859,3684200";
    List[237] = "20000725,56.6952,57.0665,55.0859,55.3335,3700700";
    List[238] = "20000724,58.6758,59.1709,55.643,56.5095,3980700";
    List[239] = "20000721,56.20,58.9853,56.20,58.6758,5371100";
    List[240] = "20000720,54.5908,57.1903,54.5908,56.3238,3377300";
    List[241] = "20000719,54.5908,55.1478,53.9718,54.5289,2282000";
    List[242] = "20000718,55.4573,55.5192,53.7242,54.6527,3094800";
    List[243] = "20000717,56.4476,56.819,54.467,55.7668,3628500";
    List[244] = "20000714,54.6527,56.5714,54.4051,56.0143,3442600";
    List[245] = "20000713,55.0859,55.0859,54.0956,54.5289,1787800";
    List[246] = "20000712,53.7242,55.024,53.1672,54.467,3498500";
    List[247] = "20000711,54.3432,54.9002,52.7339,53.5386,3439000";
    List[248] = "20000710,53.1053,54.5289,52.3007,54.3432,3541900";
    List[249] = "20000707,51.9912,53.291,51.5579,53.2291,3550200";
    List[250] = "20000706,50.8152,51.5579,50.1963,51.4342,3633600";
    List[251] = "20000705,52.2388,52.4245,51.0628,51.6198,3107100";
    List[252] = "20000703,50.305,52.0354,50.305,51.7882,1511400";
    List[253] = "20000630,51.1084,51.6491,50.4286,51.541,4232700";
    List[254] = "20000629,52.2208,52.5916,51.4174,51.9118,3040800";
    List[255] = "20000628,52.5916,54.322,52.5916,52.6534,4160800";
    List[256] = "20000627,55.3726,55.6816,53.1478,53.5804,3100500";
    List[257] = "20000626,53.0242,55.867,52.9624,55.558,3169400";
    List[258] = "20000623,52.8388,53.704,52.159,53.0242,2832900";
    List[259] = "20000622,51.7882,52.9006,51.3556,52.8388,3184700";
    List[260] = "20000621,53.4568,53.4568,51.541,52.0354,2155400";
    List[261] = "20000620,52.159,54.013,52.159,53.395,3074100";
    List[262] = "20000619,51.6028,54.4456,51.3556,52.9006,4285100";
    List[263] = "20000616,54.8782,55.0636,50.7994,50.923,5988100";
    List[264] = "20000615,55.7434,56.2378,53.3332,54.8782,3898700";
    List[265] = "20000614,54.1366,56.5468,54.013,56.1142,3850600";
    List[266] = "20000613,53.1478,54.0748,52.2208,53.8894,2474100";
    List[267] = "20000612,53.1478,53.8894,52.9006,53.0551,2314700";
    List[268] = "20000609,54.8782,55.6816,52.9006,53.2096,2437100";
    List[269] = "20000608,55.558,55.867,54.3838,54.3838,2563200";
    List[270] = "20000607,53.6422,56.2996,53.5804,55.8052,2853400";
    List[271] = "20000606,54.7546,54.7546,52.9006,53.395,3640700";
    List[272] = "20000605,55.6198,55.6198,54.1984,55.0018,2889800";
    List[273] = "20000602,55.1872,56.3614,54.8782,55.867,4626200";
    List[274] = "20000601,53.2096,54.2602,52.4062,53.2714,4145800";
    List[275] = "20000531,50.1196,53.7658,49.687,53.395,4761700";
    List[276] = "20000530,49.069,50.1814,49.069,50.0578,1713900";
    List[277] = "20000526,48.6982,49.378,48.142,48.5128,1725300";
    List[278] = "20000525,49.4398,50.614,47.9566,48.3274,3859300";
    List[279] = "20000524,50.1814,51.7882,48.8218,49.4398,4323400";
    List[280] = "20000523,48.6982,50.305,48.6982,50.1814,3049000";
    List[281] = "20000522,49.687,50.0578,48.142,49.069,3000300";
    List[282] = "20000519,50.2432,50.5522,49.1926,49.7488,2851800";
    List[283] = "20000518,50.1814,51.7264,50.1814,51.232,2727100";
    List[284] = "20000517,50.4286,51.1702,49.687,50.3668,3122900";
    List[285] = "20000516,51.9736,52.0354,50.4904,50.5522,3539400";
    List[286] = "20000515,49.9342,51.7882,49.6252,51.6028,3402600";
    List[287] = "20000512,48.5746,50.0578,48.451,49.687,3162700";
    List[288] = "20000511,47.215,48.9454,46.9678,48.9454,3331400";
    List[289] = "20000510,48.9454,49.5634,47.009,47.2562,2964700";
    List[290] = "20000509,50.1196,50.7994,48.657,48.7806,2123000";
    List[291] = "20000508,47.7918,50.202,47.7506,50.1196,1849600";
    List[292] = "20000505,47.7094,48.348,46.6382,48.3274,1709100";
    List[293] = "20000504,47.2562,48.5334,47.1532,47.7094,2026900";
    List[294] = "20000503,48.657,49.3574,46.1438,46.803,2496600";
    List[295] = "20000502,49.893,49.893,48.6158,48.8012,2053000";
    List[296] = "20000501,49.3162,50.511,48.2656,49.893,2564700";
    List[297] = "20000428,51.0878,51.7058,49.275,49.275,2298400";
    List[298] = "20000427,50.2638,51.1496,49.4398,51.0878,2406600";
    List[299] = "20000426,52.0766,52.6534,50.923,50.9642,2326600";
    List[300] = "20000425,49.7694,52.0766,49.7488,52.0766,2815700";
    List[301] = "20000424,47.0502,49.8106,46.803,49.4604,3298900";
    List[302] = "20000420,45.8966,47.421,45.7112,47.1326,1563000";
    List[303] = "20000419,45.8999,46.3112,45.3447,45.8999,1630100";
    List[304] = "20000418,44.5015,46.2701,44.4193,46.0439,1925400";
    List[305] = "20000417,43.7612,44.8717,43.391,44.0902,3076200";
    List[306] = "20000414,47.216,47.3806,43.3705,44.0902,4567700";
    List[307] = "20000413,49.6015,49.8072,47.7096,48.0386,2649700";
    List[308] = "20000412,48.1209,50.6709,48.1003,49.6015,3434500";
    List[309] = "20000411,47.5039,48.2031,46.3935,47.7713,2563000";
    List[310] = "20000410,45.756,47.7096,45.4681,47.1132,2383300";
    List[311] = "20000407,46.5168,46.5168,45.612,45.756,2007100";
    List[312] = "20000406,47.3806,47.4011,46.085,46.3935,2719900";
    List[313] = "20000405,48.0386,48.4499,47.1543,47.5451,2548800";
    List[314] = "20000404,51.1644,51.9253,46.9487,48.3676,4257900";
    List[315] = "20000403,49.2725,51.7197,49.1697,51.1644,2621100";
    List[316] = "20000331,48.8612,49.5193,48.2031,49.0051,1849900";
    List[317] = "20000330,49.8483,50.2184,48.6555,49.0257,1985100";
    List[318] = "20000329,50.0539,50.8765,49.108,49.8894,1779800";
    List[319] = "20000328,49.2314,50.9588,49.0051,50.1773,2343300";
    List[320] = "20000327,51.1644,51.3289,49.0668,49.5193,2053400";
    List[321] = "20000324,51.2878,51.7608,50.6092,51.2055,2842100";
    List[322] = "20000323,48.6144,51.3289,47.7918,51.3289,3298500";
    List[323] = "20000322,48.2443,48.6144,47.1749,48.6144,1859700";
    List[324] = "20000321,46.7225,49.0257,45.5709,47.9975,3414700";
    List[325] = "20000320,47.7096,48.3676,46.3729,46.7225,2576200";
    List[326] = "20000317,46.887,48.3676,46.414,47.2572,3446100";
    List[327] = "20000316,45.0773,48.2237,44.9128,47.2983,5043800";
    List[328] = "20000315,42.3628,44.1725,41.8487,43.7201,3267000";
    List[329] = "20000314,42.6919,43.5556,42.0749,42.26,2737300";
    List[330] = "20000313,40.7177,43.2265,40.2652,41.6431,2975500";
    List[331] = "20000310,40.512,42.7124,40.0802,41.6842,3627500";
    List[332] = "20000309,40.7588,40.9233,39.3193,40.3886,3746000";
    List[333] = "20000308,41.6636,41.6636,39.8334,40.3886,3314800";
    List[334] = "20000307,42.6096,42.7741,40.841,41.5814,3253500";
    List[335] = "20000306,43.9257,44.008,42.3217,42.5273,2129800";
    List[336] = "20000303,45.3241,45.5297,43.1854,43.9257,2560300";
    List[337] = "20000302,45.0773,45.2213,43.5556,43.9463,2540600";
    List[338] = "20000301,45.0773,45.2213,43.4939,44.5838,2272500";
    List[339] = "20000229,44.7483,44.81,43.2677,44.1519,2497800";
    List[340] = "20000228,41.6225,44.5838,41.6225,43.6378,4773200";
    List[341] = "20000225,43.1443,44.0902,40.7999,41.0467,4836400";
    List[342] = "20000224,45.283,45.5914,42.4039,42.7741,5794700";
    List[343] = "20000223,45.7354,46.2906,44.9745,45.4475,3180900";
    List[344] = "20000222,45.8999,46.1467,45.283,45.7765,4021000";
    List[345] = "20000218,48.6555,48.6761,44.5427,45.4886,4557000";
    List[346] = "20000217,50.7531,51.1644,47.0104,48.6761,4143400";
    List[347] = "20000216,51.4934,51.5757,50.0539,50.6195,2222300";
    List[348] = "20000215,50.7531,52.5217,50.6092,52.3572,1362000";
    List[349] = "20000214,50.5064,51.9664,50.5064,50.6709,1580900";
    List[350] = "20000211,50.9999,52.0076,49.9922,50.5064,1902600";
    List[351] = "20000210,51.5346,52.4805,50.5475,50.8354,1746600";
    List[352] = "20000209,53.591,53.591,50.9999,51.514,2095500";
    List[353] = "20000208,53.7967,54.393,53.5499,53.6322,1537200";
    List[354] = "20000207,53.118,53.9201,52.9535,53.4471,1304400";
    List[355] = "20000204,53.591,53.8378,52.8507,53.118,1504100";
    List[356] = "20000203,54.1257,54.4547,52.8507,53.591,2175100";
    List[357] = "20000202,55.4418,55.4418,53.8378,54.0229,2613300";
    List[358] = "20000201,54.1463,55.7709,53.8995,55.6063,2707500";
    List[359] = "20000131,51.658,54.537,51.5963,54.208,2161100";
    List[360] = "20000128,53.0152,53.3854,51.9047,52.0693,2103800";
    List[361] = "20000127,52.9741,54.0434,52.6656,53.6116,1819300";
    List[362] = "20000126,52.6451,53.9817,52.4805,52.5628,3850400";
    List[363] = "20000125,49.8894,52.2338,49.8894,52.1104,2961600";
    List[364] = "20000124,50.7531,51.987,49.5604,50.0128,2926400";
    List[365] = "20000121,50.3418,50.5886,49.6632,49.91,1841300";
    List[366] = "20000120,49.437,50.8765,48.8201,49.8174,3300200";
    List[367] = "20000119,50.5064,50.9176,48.9435,49.0051,1928200";
    List[368] = "20000118,51.987,51.987,49.8483,49.8689,1712000";
    List[369] = "20000114,51.9664,53.0152,51.8842,52.4805,1835400";
    List[370] = "20000113,51.4934,52.0693,50.7531,51.3289,1701300";
    List[371] = "20000112,51.3084,52.2749,50.4858,51.0616,1697200";
    List[372] = "20000111,50.7943,52.6451,50.5886,51.3289,2088600";
    List[373] = "20000110,50.3418,51.514,49.9717,50.8559,1431500";
    List[374] = "20000107,49.6015,50.5064,48.8612,50.1568,1755400";
    List[375] = "20000106,47.8741,50.1362,47.8741,49.437,3206800";
    List[376] = "20000105,49.5193,50.383,48.4499,48.4499,2522700";
    List[377] = "20000104,51.0267,51.2115,48.9939,49.7126,3046300";
    List[378] = "20000103,54.0452,54.0452,51.2526,51.6633,1888100";
    List[379] = "19991231,54.3738,55.1951,54.3738,54.6202,339900";
    List[380] = "19991230,54.3738,55.1951,54.1274,54.4559,872200";
    List[381] = "19991229,53.3881,54.6612,53.3471,54.3738,942200";
    List[382] = "19991228,52.1561,53.7783,52.0945,53.1417,1148900";
    List[383] = "19991227,52.3409,53.3881,51.9918,51.9918,903200";
    List[384] = "19991223,51.0473,52.5052,51.0473,52.3204,866100";
    List[385] = "19991222,51.766,51.9918,51.0473,51.0473,790300";
    List[386] = "19991221,50.5134,52.5462,50.1848,51.8481,2210100";
    List[387] = "19991220,51.4169,51.766,50.308,51.0011,1343400";
    List[388] = "19991217,50.8625,51.3142,50.3902,50.9651,2781400";
    List[389] = "19991216,51.6427,51.6427,49.8152,50.1438,2446100";
    List[390] = "19991215,52.5668,52.8953,51.9508,51.9713,1583400";
    List[391] = "19991214,53.7167,53.9836,52.731,52.731,1617200";
    List[392] = "19991213,55.3183,55.3183,54.0452,54.6407,1792200";
    List[393] = "19991210,53.1417,55.4826,52.9159,55.113,2359800";
    List[394] = "19991209,52.0124,53.4703,52.0124,52.5052,1939600";
    List[395] = "19991208,52.074,52.69,51.5811,51.9918,1194800";
    List[396] = "19991207,51.9918,52.5462,51.3553,52.1972,1746100";
    List[397] = "19991206,51.5811,52.1972,51.191,51.6427,1276800";
    List[398] = "19991203,51.5811,52.382,51.3347,51.6633,1544900";
    List[399] = "19991202,50.5955,50.8419,49.9384,50.4158,1216800";
    List[400] = "19991201,49.2814,50.4313,49.0349,50.1848,1463000";
    List[401] = "19991130,48.6243,50.4723,48.6243,49.6407,1873600";
    List[402] = "19991129,49.8152,49.8152,48.3779,48.5627,1475300";
    List[403] = "19991126,50.5955,50.6982,50.1438,50.1438,333500";
    List[404] = "19991124,50.9241,51.0062,50.267,50.267,947300";
    List[405] = "19991123,50.883,51.6222,50.5955,51.0883,1636500";
    List[406] = "19991122,50.7598,51.3963,50.5134,50.8368,1166700";
    List[407] = "19991119,51.0062,51.5401,50.8009,50.9241,1133600";
    List[408] = "19991118,51.4169,51.6633,50.8419,50.883,1923000";
    List[409] = "19991117,51.9097,52.074,50.8009,50.8009,1308900";
    List[410] = "19991116,52.074,52.6489,50.9857,52.4025,2670900";
    List[411] = "19991115,50.9241,51.8686,50.6161,51.6633,2062800";
    List[412] = "19991112,48.7885,50.9241,48.6653,50.6777,2288600";
    List[413] = "19991111,47.9056,48.2547,47.3306,47.885,2062100";
    List[414] = "19991110,47.9877,48.6243,47.5565,47.6386,2118000";
    List[415] = "19991109,48.46,48.7475,47.6797,47.9877,2241400";
    List[416] = "19991108,49.4867,49.4867,48.0493,48.2752,1881900";
    List[417] = "19991105,49.2814,49.692,48.7064,49.1992,1775600";
    List[418] = "19991104,48.6243,49.4662,47.9466,48.0699,2175300";
    List[419] = "19991103,48.46,48.7475,47.844,48.2957,2390600";
    List[420] = "19991102,49.0349,49.7742,48.3163,48.46,2448300";
    List[421] = "19991101,49.2814,49.651,48.7885,48.9528,3082300";
    List[422] = "19991029,51.5811,52.2177,49.9384,50.5955,4924500";
    List[423] = "19991028,51.2526,52.8953,51.2115,52.8953,4922700";
    List[424] = "19991027,47.4744,49.9384,47.4744,49.4867,2782900";
    List[425] = "19991026,46.9816,48.0904,46.4477,47.5565,2981700";
    List[426] = "19991025,48.1931,48.5216,46.9405,47.1048,2561000";
    List[427] = "19991022,48.1315,49.2198,47.9672,48.8296,1925900";
    List[428] = "19991021,47.1048,47.9056,46.4271,47.5976,1789300";
    List[429] = "19991020,46.8173,47.6181,46.0986,47.5565,1541100";
    List[430] = "19991019,46.653,46.9405,45.8111,45.9549,2578300";
    List[431] = "19991018,44.1889,45.421,43.8604,45.2978,3301100";
    List[432] = "19991015,45.5853,45.6058,44.0247,44.3532,3124300";
    List[433] = "19991014,46.5709,46.8173,45.3594,46.653,2377300";
    List[434] = "19991013,47.7208,47.7208,46.345,46.653,1895400";
    List[435] = "19991012,48.46,48.6243,47.6797,47.7208,1468700";
    List[436] = "19991011,49.0965,49.1171,48.2957,48.9117,1288200";
    List[437] = "19991008,47.6797,49.2403,47.5565,49.1787,2011200";
    List[438] = "19991007,48.0699,48.46,47.4744,47.9261,2656800";
    List[439] = "19991006,46.2218,48.152,46.2218,48.1315,3027200";
    List[440] = "19991005,46.0864,47.4394,45.2868,46.1479,3833500";
    List[441] = "19991004,43.1957,45.2868,43.1957,45.1228,1778500";
    List[442] = "19991001,43.6262,43.7698,42.7242,43.0932,2033200";
    List[443] = "19990930,44.0363,44.5693,43.6057,44.2823,1778500";
    List[444] = "19990929,44.2823,44.3438,43.6468,43.8108,1428600";
    List[445] = "19990928,44.0363,45.0203,42.9292,44.5488,2681800";
    List[446] = "19990927,45.1433,45.4303,44.2003,44.2823,1595300";
    List[447] = "19990924,44.1388,45.0203,44.1388,44.7333,1809300";
    List[448] = "19990923,44.9383,45.4508,43.9748,44.4053,2061500";
    List[449] = "19990922,45.1638,45.3483,44.2003,44.7538,1932800";
    List[450] = "19990921,45.3893,45.5533,44.9383,45.1843,1705100";
    List[451] = "19990920,45.7789,45.8404,45.5123,45.6559,853500";
    List[452] = "19990917,45.2663,46.3939,45.2663,45.8814,1964300";
    List[453] = "19990916,44.8358,45.4303,43.8723,44.7743,2406400";
    List[454] = "19990915,45.7379,46.1069,44.7333,44.9793,2148800";
    List[455] = "19990914,45.7584,45.7584,44.8563,45.7174,1346200";
    List[456] = "19990913,45.5944,46.3324,45.5123,46.0044,1019800";
    List[457] = "19990910,46.1684,46.7424,45.8404,45.9224,1646800";
    List[458] = "19990909,45.3893,45.7584,44.7948,45.4713,1562500";
    List[459] = "19990908,45.6764,47.0294,45.3483,45.3483,2192200";
    List[460] = "19990907,46.4964,46.7424,45.9429,46.2914,1044400";
    List[461] = "19990903,45.7994,46.7834,45.7174,46.5784,2299400";
    List[462] = "19990902,44.7743,44.9998,43.7903,44.5693,2222500";
    List[463] = "19990901,45.5944,45.7174,44.7743,45.5944,1700800";
    List[464] = "19990831,46.2504,46.2504,44.7333,45.1023,2306800";
    List[465] = "19990830,47.4599,47.583,45.7994,45.8199,2189200";
    List[466] = "19990827,48.198,48.198,47.2139,47.4394,1562700";
    List[467] = "19990826,48.8335,49.264,48.0545,48.28,1904500";
    List[468] = "19990825,47.3984,48.362,46.6399,48.3005,3061400";
    List[469] = "19990824,48.0135,49.4075,47.7265,48.5055,3332400";
    List[470] = "19990823,47.2344,48.28,47.2344,48.0135,2158200";
    List[471] = "19990820,45.5944,46.9884,45.5944,46.8654,1716900";
    List[472] = "19990819,44.2823,45.7174,44.2823,45.4303,1788400";
    List[473] = "19990818,45.7584,45.7584,44.7948,45.0203,1386600";
    List[474] = "19990817,45.3483,46.1274,45.2663,46.0044,2382900";
    List[475] = "19990816,44.1798,44.6103,43.7493,44.5693,1458500";
    List[476] = "19990813,43.7903,44.2413,43.6673,44.1798,1782700";
    List[477] = "19990812,42.2322,43.3802,42.1092,42.5602,1685600";
    List[478] = "19990811,41.2891,42.0272,41.0021,41.6581,2083000";
    List[479] = "19990810,40.7151,41.2891,40.3666,40.8381,2296900";
    List[480] = "19990809,40.3666,41.4941,40.1001,41.0021,2167700";
    List[481] = "19990806,41.1661,41.6581,40.0181,40.3666,2362700";
    List[482] = "19990805,41.0841,41.8222,39.9771,41.6991,2337100";
    List[483] = "19990804,41.7402,42.6012,40.2641,40.5101,2501100";
    List[484] = "19990803,42.8882,43.1342,41.3301,41.5556,2536800";
    List[485] = "19990802,43.2982,44.5283,42.5807,42.6627,2553500";
    List[486] = "19990730,45.1433,45.1638,43.0317,43.2162,1905800";
    List[487] = "19990729,45.7174,45.7789,44.2413,45.4508,2183100";
    List[488] = "19990728,46.0864,47.2344,46.0864,46.3324,2727800";
    List[489] = "19990727,45.3483,47.0704,44.9383,46.7014,3000900";
    List[490] = "19990726,44.0363,45.2253,43.6673,44.7743,1653600";
    List[491] = "19990723,44.9383,45.3893,44.1798,44.4668,1718800";
    List[492] = "19990722,43.4622,45.3483,43.2982,44.9383,2335500";
    List[493] = "19990721,43.8108,44.7333,43.4212,43.9543,1430800";
    List[494] = "19990720,45.5533,46.2299,43.6673,43.8928,2262000";
    List[495] = "19990719,44.6103,45.8404,44.5283,45.6559,1656700";
    List[496] = "19990716,44.0363,44.6513,43.4212,44.5693,1198100";
    List[497] = "19990715,43.6262,44.2413,43.6057,44.0363,1432900";
    List[498] = "19990714,43.9133,43.9338,43.1342,43.1342,931300";
    List[499] = "19990713,43.7493,44.7538,43.6057,43.6673,1157200";
    List[500] = "19990712,43.9543,44.7333,43.7083,44.3643,1556900";
    List[501] = "19990709,44.1183,44.2823,43.1342,43.7903,1340200";
    List[502] = "19990708,44.3233,44.8358,43.5237,43.8723,1728600";
    List[503] = "19990707,44.9383,45.3278,44.2208,44.5283,1388600";
    List[504] = "19990706,44.9383,45.9224,44.6513,45.3483,1538800";

    container.setStockSymbol("IBM");
    for (int i = 0; i < List.length; i++)
    {
      String[] stuff = ParseData.parseString(List[i], ",");
      String theDay = stuff[0];
      int day = ParseData.parseNum(theDay.substring(6), 0);
      int month = ParseData.parseNum(theDay.substring(4, 6), 0);
      int year = ParseData.parseNum(theDay.substring(2, 4), 0);
      theDay = ParseData.format(month, "00") + "-" + ParseData.format(day, "00") + "-" + ParseData.format(year, "00");
      HistoricStockData info = new HistoricStockData(theDay, stuff[1], stuff[2], stuff[3], stuff[4], stuff[5]);
      container.addObject(info);
    }

    return (container);
  }
 /**
  * Displays a vertical bar chart in its own frame.
  */
  public void displayHighLowChart(String fileName)
  {

    if (this.highLowChartFrame == null)
    {

      // create a default chart based on some sample data...
      String title = "High-Low/Open-Close Chart" + ((this.DEMO_MODE) ? " DEMO_MODE" : "");
      //      String title = "High-Low/Open-Close Chart";
      String timeAxisLabel = "Date";
      String valueAxisLabel = "Price ($ per share)";
      // If we are in DEMO MODE - Display default, if the name being passed in is null
      // then Display default: else Load the graph specified in the File name.
      HistoricStockDataContainer cont =
        (DEMO_MODE)
          ? createDemoDataContainer()
          : ((fileName == null) ? createDemoDataContainer() : createDataContainer(fileName));
      // Create our Data Set with the container of historical data  
      HighLowDataset data = new StocksHighLowDataset(cont);
      JFreeChart chart = ChartFactory.createHighLowChart(title, timeAxisLabel, valueAxisLabel, data, true);
      // then customise it a little...
      String stockName = cont.getStockSymbol();
      TextTitle subtitle = new TextTitle(stockName + " Stock Price", new Font("Arial", Font.BOLD, 12));
      chart.addTitle(subtitle);
      chart.setBackgroundPaint(new GradientPaint(0, 0, Color.white, 0, 1000, Color.blue));
      // and present it in a frame...
      highLowChartFrame = new HighLowStockChartFrame("High/Low/Open/Close Chart", chart);
      highLowChartFrame.pack();
      JRefineryUtilities.centerFrameOnScreen(highLowChartFrame);
      //            SwingRefinery.positionFrameRandomly(highLowChartFrame);

      highLowChartFrame.setAllowApplicationExit(this.standAloneApp);
      highLowChartFrame.invalidate();
      highLowChartFrame.validate();
      highLowChartFrame.show();
    }
    else
    {
      highLowChartFrame.show();
      highLowChartFrame.requestFocus();
    }

  }
  /**
   * Main Method - Used for Starting up the Frame during testing
   * @param args java.lang.String[]
   */
  public static void main(String[] args)
  {
    com.stockmarket.parsers.StockDataHistCSVParser.preloadProxyInfo("StockApp.ini");
    HighLowStockChart.DEMO_MODE = true;
    new HighLowStockChart(true).displayHighLowChart(null);
  }
}
